<!DOCTYPE HTML>
<!--Cris Serrano-->
<html>
  <head>
  <style>
	body  {background-color: gray;}
	.pagetop {background-color: powderblue;}
	.pagetitle  {font-family verdana; font-size: 300%;}
	.seat {padding: 10px; border: 2px solid black;}
	.emptyseat {padding: 10px; border: 2px dotted gray;}
	.listtable {padding: 20px;}
  
  </style>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="PSPad editor, www.pspad.com">
  <title>Index</title>
  <script>
	var data;
	function load()
	{
	    data = getJSON("https://gwb-class-info.azurewebsites.net/");
		data = JSON.parse(data);
		var storedPosition = "";
	
		for (i = 0; i < Object.keys(data.members).length; i++)
		{
			try
			{
				document.getElementById(data.members[i].SeatLocation).className = "seat";
			}
			catch (err)
			{
				console.log(data.members[i].FirstName + " " + data.members[i].LastName + " didn't follow the class format for SeatLocation.\nThe seat location " + data.members[i].SeatLocation + " does not exist.");
			}
		}
		
		
		function getJSON(url) 
		{
			var resp ;
			var xmlHttp ;
			resp = "" ;
			xmlHttp = new XMLHttpRequest();
			if(xmlHttp != null)
			{
				xmlHttp.open( "GET", url, false );
				xmlHttp.send( null );
				resp = xmlHttp.responseText;
			}
			return resp ;
		}
	}
	function loadMemberData(passedID) /// this.id in onclick
	{
		var foundIndex = null;
		
		for (i = 0; i <  Object.keys(data.members).length; i++)
		{
			if (data.members[i].SeatLocation == passedID)
			{
				foundIndex = i;
				break;
			}
		}
		
		if (foundIndex != null)
		{
			if (data.members[foundIndex].FirstName == null)
			{
				console.log("This person's name is undefined. Loading preferred name instead.");
				document.getElementById("FirstName").innerHTML = "First Name: " + data.members[foundIndex].PreferredName;
			}
			else
			{
				document.getElementById("FirstName").innerHTML = "First Name: " + data.members[foundIndex].FirstName;
			}
			document.getElementById("LastName").innerHTML = "Last Name: " + data.members[foundIndex].LastName;
			document.getElementById("PrefName").innerHTML = "Preferred Name: " + data.members[foundIndex].PreferredName;
			document.getElementById("TeamName").innerHTML = "Team Name: " + data.members[foundIndex].TeamName;
			document.getElementById("SeatLocation").innerHTML = "Seat Location: " + data.members[foundIndex].SeatLocation;
			document.getElementById("Roles").innerHTML = "Roles: " + data.members[foundIndex].Roles[0];
			try
			{
				for (i = 1; i < Object.keys(data.members[foundIndex].Roles).length; i++)
				{
					if (data.members[foundIndex].Roles[i].length != 1)
					{
						document.getElementById("Roles").innerHTML += ", " + data.members[foundIndex].Roles[i];
					}
					else // This is here because the Lewis Honey Badgers stored their roles as an array...
					{
						document.getElementById("Roles").innerHTML += data.members[foundIndex].Roles[i];
					}
				}
			}
			catch (err)
			{
				console.log(data.members[i].FirstName + " " + data.members[i].LastName + " did not have any roles listed.");
			}
		}
		else
		{
			console.log("Did not find any information for whoever sits at location " + passedID + ".");
		}
	}
	
	</script>
  </head>
  <body onload="load()">
  
  <div class="pagetop" align="center">
	<p class="pagetitle">Klump Seating Chart</p>
	
	<table align="center">
		<tr>
			<td class="emptyseat" id="11-0" onclick="loadMemberData(this.id)">11-0</td>
			<td class="emptyseat" id="10-0" onclick="loadMemberData(this.id)">10-0</td>
			<td class="emptyseat" id="9-0" onclick="loadMemberData(this.id)">9-0</td>
			<td class="emptyseat" id="8-0" onclick="loadMemberData(this.id)">8-0</td>
			<td class="emptyseat" id="7-0" onclick="loadMemberData(this.id)">7-0</td>
			<td class="emptyseat" id="6-0" onclick="loadMemberData(this.id)">6-0</td>
			<td class="emptyseat" id="5-0" onclick="loadMemberData(this.id)">5-0</td>
			<td class="emptyseat" id="4-0" onclick="loadMemberData(this.id)">4-0</td>
			<td class="emptyseat" id="3-0" onclick="loadMemberData(this.id)">3-0</td>
			<td class="emptyseat" id="2-0" onclick="loadMemberData(this.id)">2-0</td>
			<td class="emptyseat" id="1-0" onclick="loadMemberData(this.id)">1-0</td>
			
	  
		</tr>
		
		<tr>
			<td class="emptyseat" id="11-1" onclick="loadMemberData(this.id)">11-1</td>
			<td class="emptyseat" id="10-1" onclick="loadMemberData(this.id)">10-1</td>
			<td class="emptyseat" id="9-1" onclick="loadMemberData(this.id)">9-1</td>
			<td class="emptyseat" id="8-1" onclick="loadMemberData(this.id)">8-1</td>
			<td class="emptyseat" id="7-1" onclick="loadMemberData(this.id)">7-1</td>
			<td class="emptyseat" id="6-1" onclick="loadMemberData(this.id)">6-1</td>
			<td class="emptyseat" id="5-1" onclick="loadMemberData(this.id)">5-1</td>
			<td class="emptyseat" id="4-1" onclick="loadMemberData(this.id)">4-1</td>
			<td class="emptyseat" id="3-1" onclick="loadMemberData(this.id)">3-1</td>
			<td class="emptyseat" id="2-1" onclick="loadMemberData(this.id)">2-1</td>
			<td class="emptyseat" id="1-1" onclick="loadMemberData(this.id)">1-1</td>
	  
		</tr>
		
		<tr>
			<td class="emptyseat" id="11-2" onclick="loadMemberData(this.id)">11-2</td>
			<td class="emptyseat" id="10-2" onclick="loadMemberData(this.id)">10-2</td>
			<td class="emptyseat" id="9-2" onclick="loadMemberData(this.id)">9-2</td>
			<td class="emptyseat" id="8-2" onclick="loadMemberData(this.id)">8-2</td>
			<td class="emptyseat" id="7-2" onclick="loadMemberData(this.id)">7-2</td>
			<td class="emptyseat" id="6-2" onclick="loadMemberData(this.id)">6-2</td>
			<td class="emptyseat" id="5-2" onclick="loadMemberData(this.id)">5-2</td>
			<td class="emptyseat" id="4-2" onclick="loadMemberData(this.id)">4-2</td>
			<td class="emptyseat" id="3-2" onclick="loadMemberData(this.id)">3-2</td>
			<td class="emptyseat" id="2-2" onclick="loadMemberData(this.id)">2-2</td>
			<td class="emptyseat" id="1-2" onclick="loadMemberData(this.id)">1-2</td>
	  
		</tr>
		
		<tr>
			<td class="emptyseat" id="11-3" onclick="loadMemberData(this.id)">11-3</td>
			<td class="emptyseat" id="10-3" onclick="loadMemberData(this.id)">10-3</td>
			<td class="emptyseat" id="9-3" onclick="loadMemberData(this.id)">9-3</td>
			<td class="emptyseat" id="8-3" onclick="loadMemberData(this.id)">8-3</td>
			<td class="emptyseat" id="7-3" onclick="loadMemberData(this.id)">7-3</td>
			<td class="emptyseat" id="6-3" onclick="loadMemberData(this.id)">6-3</td>
			<td class="emptyseat" id="5-3" onclick="loadMemberData(this.id)">5-3</td>
			<td class="emptyseat" id="4-3" onclick="loadMemberData(this.id)">4-3</td>
			<td class="emptyseat" id="3-3" onclick="loadMemberData(this.id)">3-3</td>
			<td class="emptyseat" id="2-3" onclick="loadMemberData(this.id)">2-3</td>
			<td class="emptyseat" id="1-3" onclick="loadMemberData(this.id)">1-3</td>
	  
		</tr>
		
	  </table>
	  
	  <br><br>
	  
	  <table>
		<tr>
			<td id="FirstName" class="listtable">First Name: </p>
			<td id="TeamName" class="listtable">Team Name: </p>
		</tr>
		
		<tr>
			<td id="LastName" class="listtable">Last Name: </p>
			<td id="SeatLocation" class="listtable">Seat Location: </p>
		</tr>
		
		<tr>
			<td id="PrefName" class="listtable">Preferred Name: </p>
			<td id="Roles" class="listtable">Roles: </p>
		</tr>
	  
	  <table>
	
	
  </div>
   
  </body>
  
  
</html>
